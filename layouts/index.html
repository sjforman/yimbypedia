{{ partial "head.html" . }}
{{ partial "header.html" . }}

<div class="my-8">
    <h2 class="text-3xl font-bold mb-4">Status: Pending</h2>
    {{ $pendingPage := .Site.Taxonomies.statuses.pending }}
    <p>
        There are <span class="font-bold">{{ len $pendingPage }}</span> bills currently pending. 
        <a href="{{ "/statuses/pending/" | relLangURL }}" class="text-blue-500 hover:text-blue-700 transition duration-150 ease-in-out">
            View all pending bills
        </a>
    </p>
</div>

<div class="my-8">
    <h2 class="text-3xl font-bold mb-4">States Breakdown</h2>
    {{ range $key, $value := .Site.Taxonomies.states }}
    <div class="mb-6">
        <h3 class="text-2xl font-bold">{{ $key | humanize }} ({{ len $value }})</h3>
        <ul class="list-disc pl-5">
            <li>
                Pending: {{ len (where $value ".Params.statuses" "intersect" (slice "Pending")) }}
            </li>
            <li>
                Enacted: {{ len (where $value ".Params.statuses" "intersect" (slice "Enacted")) }}
            </li>
            <li>
                Failed: {{ len (where $value ".Params.statuses" "intersect" (slice "Failed")) }}
            </li>
        </ul>
        <a href="{{ printf "/states/%s/" $key | relLangURL }}" class="text-blue-500 hover:text-blue-700 transition duration-150 ease-in-out">
            View all bills from {{ $key | humanize }}
        </a>
    </div>
    {{ end }}
</div>

{{ partial "footer.html" . }}
